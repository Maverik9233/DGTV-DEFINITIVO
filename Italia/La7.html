<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>La7 HD</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
<style>
  body {
    background: #000;
    color: #fff;
    text-align: center;
    margin: 0;
    font-family: Arial, sans-serif;
  }

  h1 {
    margin: 15px 0 10px 0;
    font-size: 26px;
    color: #00bfff;
    text-shadow: 0 0 10px rgba(0,191,255,0.6);
  }

  img.logo {
    width: 200px;
    max-width: 30%;
    margin-bottom: 20px;
  }

  video, iframe.stream {
    width: 80%;
    max-width: 960px;
    height: 540px;
    border: none;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255,255,255,0.2);
    margin-bottom: 30px;
  }
</style>
</head>
<body>
  <!-- Logo del canale -->
  <img class="logo" src="https://static.telekitalia.com/loghi/la7hd.jpg" alt="La7 HD">

  <!-- Nome del canale -->
  <h1>La7 HD</h1>

  <!-- Player universale -->
  <video id="video" controls autoplay></video>
  <!-- Se il flusso è solo embed/iframe: -->
  <!-- <iframe class="stream" src="LINK_PHP_O_EMBED" allowfullscreen></iframe> -->

<script>
  const video = document.getElementById('video');
  const videoSrc = "https://d1aud3ze4v205y.cloudfront.net/HBBTV/LA7/DASH/Live.mpd?Expires=1761879345&Signature=uebwtaSq-PX1Ltr-FeWPzIycAFLj7WIBLZTl0rjNnfcPWi99DP623LUVyyKEjhY50p~vufUYyhHsM27lJ3uQzT7G5-vzi9mLuyiFx9K4vA-FZpBpQI9Bg6iB0IOn4Iw0KCB~0z~v1umavqj5b6pXw5j4F6yZEIMvu6za2EcH2uEYx5H6r3Cbct9LLU9fBBCp03lQfgAFlajoTYwqcEaZIhzUs7zoYX5FkjKG5WrSqHz7d8KmL3edanObxRyqQ53xrAGknodwwGM-00VVqw-CvkvZr7SSIl7zzKj3M9X9Fo-J9i7aUqwyxQROTnZjlAIKSz5WFdmL6rlU4wpSM-BsnQ__&Key-Pair-Id=KB3R7VEQE3QYQ"; // Cambia solo qui

  if(videoSrc.endsWith(".m3u8") && Hls.isSupported()){
      const hls = new Hls();
      hls.loadSource(videoSrc);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
  }
  else if(videoSrc.endsWith(".mpd") && window.dashjs){
      const player = dashjs.MediaPlayer().create();
      player.initialize(video, videoSrc, true);
  }
  else if(videoSrc.match(/\.(mp4|mkv|webm|ts)$/i)){
      video.src = videoSrc;
      video.play();
  }
  else if(videoSrc.endsWith(".php") || videoSrc.includes("embed")){
      // Se il flusso è solo tramite iframe
      const iframe = document.createElement("iframe");
      iframe.src = videoSrc;
      iframe.className = "stream";
      iframe.allowFullscreen = true;
      video.parentNode.replaceChild(iframe, video);
  }
  else{
      // fallback generico
      video.src = videoSrc;
      video.play();
  }
</script>
</body>
</html>
